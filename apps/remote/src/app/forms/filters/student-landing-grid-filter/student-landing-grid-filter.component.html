<!-- tabs for less that small screens -->
<div class="h-100-p" fxLayout="column">
  <div fxHide.gt-md>
    <div class="my-16 pl-16">
      <button
        (click)="reset()"
        [disabled]="!isResetEnabled"
        class="link-btn pl-0 py-0"
        aria-label="Reset all"
      >
        Reset all
      </button>
    </div>
    <div>
      <nav mat-tab-nav-bar>
        <a
          mat-tab-link
          *ngFor="let item of filterList"
          [active]="item.id === selectedId"
          (click)="navigateToFilterListItem(item.id)"
        >
          <span
            >{{ item.title }}
            <span *ngIf="item.count > 0">({{ item.count }})</span></span
          >
          <span *ngIf="item.count > 0"
            ><i class="fas fa-circle warn-fg s-8 pl-8" aria-hidden="true"></i
          ></span>
        </a>
      </nav>
    </div>
  </div>

  <div fxLayout="row" fxFlex="100" class="h-100-p">
    <div
      fxHide.lt-lg
      class="white-background pt-16 box-shadow-right"
      fxFlex.gt-md="30"
    >
      <div class="mb-16 pl-16">
        <button
          (click)="reset()"
          [disabled]="!isResetEnabled"
          class="link-btn pl-0 py-0"
          aria-label="Reset all"
        >
          Reset all
        </button>
      </div>
      <mat-list>
        <button
          mat-button
          *ngFor="let item of filterList; let i = index"
          (click)="navigateToFilterListItem(item.id)"
        >
          <mat-list-item
            [ngClass]="{ 'active-list-item': selectedId === item.id }"
          >
            <div
              fxLayout="row"
              fxLayoutAlign="space-between center"
              class="w-100-p"
            >
              <div
                class="text-left white-space-normal"
                fxLayout="row"
                fxLayoutAlign="start center"
              >
                <span
                  >{{ item.title }}
                  <span *ngIf="item.count > 0">({{ item.count }})</span></span
                >
              </div>
              <div
                *ngIf="item.count > 0"
                fxLayout="row"
                fxLayoutAlign="end center"
              >
                <i
                  aria-hidden="true"
                  class="fa-solid fa-circle warn-fg s-8"
                ></i>
              </div>
            </div>
          </mat-list-item>
        </button>
      </mat-list>
    </div>
    <div fxFlex.gt-md="70" fxFlex="100" class="pl-16" role="main">
      <div *ngIf="selectedId === 'status'">
        <div
          *ngIf="statuses?.length > 0"
          fxFlex="100"
          fxLayout="column"
          class="word-break-word pt-16"
        >
          <div
            class="mb-12"
            fxLayout="row"
            fxLayoutAlign="space-between center"
          >
            <button
              *ngIf="selStatus.length !== statuses?.length"
              (click)="isSelectAllOpt('status')"
              class="link-btn pl-0 py-0"
              aria-label="Select all"
            >
              Select all
            </button>
            <button
              *ngIf="
                selStatus.length === statuses?.length && selStatus.length > 0
              "
              (click)="resetFilterByName('status')"
              class="link-btn pl-0 py-0"
              aria-label="Clear all"
            >
              Clear all
            </button>
          </div>
          <div fxLayout="column">
            <mat-checkbox
              fxLayout="row"
              fxFlex="100"
              class="mb-16"
              *ngFor="let option of statuses"
              [checked]="isCheckedStatus(option.viewName)"
              [value]="option.viewName"
              (change)="setStatus($event, option.viewName)"
            >
              {{ option.viewName }}
            </mat-checkbox>
          </div>
        </div>
      </div>

      <!-- Group filter -->
      <div *ngIf="selectedId === 'groupName'">
        <div
          *ngIf="groups?.length > 0; else Nofilteroptions"
          fxFlex="100"
          fxLayout="column"
          class="word-break-word pt-16"
        >
          <div
            class="mb-12"
            fxLayout="row"
            fxLayoutAlign="space-between center"
          >
            <button
              *ngIf="selGroupName.length !== groups?.length"
              (click)="isSelectAllOpt('groupName')"
              class="link-btn pl-0 py-0"
              aria-label="Select all"
            >
              Select all
            </button>
            <button
              *ngIf="
                selGroupName.length === groups?.length &&
                selGroupName.length > 0
              "
              (click)="resetFilterByName('groupName')"
              class="link-btn pl-0 py-0"
              aria-label="Clear all"
            >
              Clear all
            </button>
          </div>
          <div fxLayout="column">
            <mat-checkbox
              fxLayout="row"
              fxFlex="100"
              class="mb-16"
              *ngFor="let option of groups"
              [checked]="isCheckedGroup(option.viewName)"
              [value]="option.viewName"
              (change)="setGroup($event, option.viewName)"
            >
              {{ option.viewName }}
            </mat-checkbox>
          </div>
        </div>
      </div>

      <!-- Cohort filter -->
      <div *ngIf="selectedId === 'cohort'">
        <div
          *ngIf="cohorts?.length > 0; else Nofilteroptions"
          fxFlex="100"
          fxLayout="column"
          class="word-break-word pr-md-16 pt-16"
        >
          <mat-radio-group fxLayout="column" [(ngModel)]="selCohort">
            <mat-radio-button
              [checked]="isCheckedCohort(option.value)"
              (change)="setCohorts(option.value)"
              *ngFor="let option of cohorts"
              [value]="option.value"
              class="mb-16 mat-radio-button-break"
            >
              {{ option.viewName }}
            </mat-radio-button>
          </mat-radio-group>
        </div>
      </div>

      <!-- EnrollmentTerm filter -->
      <div *ngIf="selectedId === 'enrollmentTerm'">
        <div
          *ngIf="enrollmentTerms?.length > 0; else Nofilteroptions"
          fxFlex="100"
          fxLayout="column"
          class="word-break-word pt-16"
        >
          <div
            class="mb-12"
            fxLayout="row"
            fxLayoutAlign="space-between center"
          >
            <button
              *ngIf="selEnrollmentTerm.length !== enrollmentTerms?.length"
              (click)="isSelectAllOpt('enrollmentTerm')"
              class="link-btn pl-0 py-0"
              aria-label="Select all"
            >
              Select all
            </button>
            <button
              *ngIf="
                selEnrollmentTerm.length === enrollmentTerms?.length &&
                selEnrollmentTerm.length > 0
              "
              (click)="resetFilterByName('enrollmentTerm')"
              class="link-btn pl-0 py-0"
              aria-label="Clear all"
            >
              Clear all
            </button>
          </div>
          <div fxLayout="column">
            <mat-checkbox
              fxLayout="row"
              fxFlex="100"
              class="mb-16"
              *ngFor="let option of enrollmentTerms"
              [checked]="isCheckedEnrollmentTerm(option.value)"
              [value]="option.value"
              (change)="setEnrollmentTerm($event, option.value)"
            >
              {{ option.viewName }}&nbsp;<span *ngIf="option?.viewDate">({{ option.viewDate | date: 'MMMM d, y'}})</span>
            </mat-checkbox>
          </div>
        </div>
      </div>

      <!-- GraduationTerm filter -->
      <div *ngIf="selectedId === 'graduationTerm'">
        <div
          *ngIf="graduationTerms?.length > 0; else Nofilteroptions"
          fxFlex="100"
          fxLayout="column"
          class="word-break-word pt-16"
        >
          <div
            class="mb-12"
            fxLayout="row"
            fxLayoutAlign="space-between center"
          >
            <button
              *ngIf="selGraduationTerm.length !== graduationTerms?.length"
              (click)="isSelectAllOpt('graduationTerm')"
              class="link-btn pl-0 py-0"
              aria-label="Select all"
            >
              Select all
            </button>
            <button
              *ngIf="
                selGraduationTerm.length === graduationTerms?.length &&
                selGraduationTerm.length > 0
              "
              (click)="resetFilterByName('graduationTerm')"
              class="link-btn pl-0 py-0"
              aria-label="Clear all"
            >
              Clear all
            </button>
          </div>
          <div fxLayout="column">
            <mat-checkbox
              fxLayout="row"
              fxFlex="100"
              class="mb-16"
              *ngFor="let option of graduationTerms"
              [checked]="isCheckedGraduationTerm(option.value)"
              [value]="option.value"
              (change)="setGraduationTerm($event, option.value)"
            >
              {{ option.viewName }}&nbsp;<span *ngIf="option?.viewDate">({{ option.viewDate | date: 'MMMM d, y'}})</span>
            </mat-checkbox>
          </div>
        </div>
      </div>

      <!-- Category filter -->
      <div *ngIf="selectedId === 'category'">
        <div
          *ngIf="categories?.length > 0; else Nofilteroptions"
          fxFlex="100"
          fxLayout="column"
          class="word-break-word pt-16"
        >
          <div
            class="mb-12"
            fxLayout="row"
            fxLayoutAlign="space-between center"
          >
            <button
              *ngIf="selCategory.length !== categories?.length"
              (click)="isSelectAllOpt('category')"
              class="link-btn pl-0 py-0"
              aria-label="Select all"
            >
              Select all
            </button>
            <button
              *ngIf="
                selCategory.length === categories?.length &&
                selCategory.length > 0
              "
              (click)="resetFilterByName('category')"
              class="link-btn pl-0 py-0"
              aria-label="Clear all"
            >
              Clear all
            </button>
          </div>
          <div fxLayout="column">
            <mat-checkbox
              fxLayout="row"
              fxFlex="100"
              class="mb-16"
              *ngFor="let option of categories"
              [checked]="isCheckedCategory(option.value)"
              [value]="option.value"
              (change)="setCategory($event, option.value)"
            >
              {{ option.viewName }}
            </mat-checkbox>
          </div>
        </div>
      </div>

      <!-- Campus filter -->
      <div *ngIf="selectedId === 'campus'">
        <div
          *ngIf="campuses?.length > 0; else Nofilteroptions"
          fxFlex="100"
          fxLayout="column"
          class="word-break-word pt-16"
        >
          <div
            class="mb-12"
            fxLayout="row"
            fxLayoutAlign="space-between center"
          >
            <button
              *ngIf="selCampus.length !== campuses?.length"
              (click)="isSelectAllOpt('campus')"
              class="link-btn pl-0 py-0"
              aria-label="Select all"
            >
              Select all
            </button>
            <button
              *ngIf="
                selCampus.length === campuses?.length && selCampus.length > 0
              "
              (click)="resetFilterByName('campus')"
              class="link-btn pl-0 py-0"
              aria-label="Clear all"
            >
              Clear all
            </button>
          </div>
          <div fxLayout="column">
            <mat-checkbox
              fxLayout="row"
              fxFlex="100"
              class="mb-16"
              *ngFor="let option of campuses"
              [checked]="isCheckedCampus(option.value)"
              [value]="option.value"
              (change)="setCampus($event, option.value)"
            >
              {{ option.viewName }}
            </mat-checkbox>
          </div>
        </div>
      </div>

      <!-- Tags filter -->
      <div *ngIf="selectedId === 'tags'">
        <div
          *ngIf="tags?.length > 0; else Nofilteroptions"
          fxFlex="100"
          fxLayout="column"
          class="word-break-word pt-16"
        >
          <div
            class="mb-12"
            fxLayout="row"
            fxLayoutAlign="space-between center"
          >
            <button
              *ngIf="selTags.length !== tags?.length"
              (click)="isSelectAllOpt('tags')"
              class="link-btn pl-0 py-0"
              aria-label="Select all"
            >
              Select all
            </button>
            <button
              *ngIf="selTags.length === tags?.length && selTags.length > 0"
              (click)="resetFilterByName('tags')"
              class="link-btn pl-0 py-0"
              aria-label="Clear all"
            >
              Clear all
            </button>
          </div>
          <div fxLayout="column">
            <mat-checkbox
              fxLayout="row"
              fxFlex="100"
              class="mb-16"
              *ngFor="let option of tags"
              [checked]="isCheckedTags(option.value)"
              [value]="option.value"
              (change)="setTags($event, option.value)"
            >
              <div class="status-badge {{ getColorByTagId(option.value) }} ">
                {{ option.viewName }}
              </div>
            </mat-checkbox>
          </div>
        </div>
      </div>

      <!-- InvitationStatus filter -->
      <div *ngIf="selectedId === 'invitationStatus'">
        <div
          *ngIf="invitationStatuses?.length > 0; else Nofilteroptions"
          fxFlex="100"
          fxLayout="column"
          class="word-break-word pt-16"
        >
          <div
            class="mb-12"
            fxLayout="row"
            fxLayoutAlign="space-between center"
          >
            <button
              *ngIf="selInvitationStatus.length !== invitationStatuses?.length"
              (click)="isSelectAllOpt('invitationStatus')"
              class="link-btn pl-0 py-0"
              aria-label="Select all"
            >
              Select all
            </button>
            <button
              *ngIf="
                selInvitationStatus.length === invitationStatuses?.length &&
                selInvitationStatus.length > 0
              "
              (click)="resetFilterByName('invitationStatus')"
              class="link-btn pl-0 py-0"
              aria-label="Clear all"
            >
              Clear all
            </button>
          </div>
          <div fxLayout="column">
            <mat-checkbox
              fxLayout="row"
              fxFlex="100"
              class="mb-16"
              *ngFor="let option of invitationStatuses"
              [checked]="isCheckedInvitationStatus(option.value)"
              [value]="option.value"
              (change)="setInvitationStatus($event, option.value)"
            >
              {{ option.viewName }}
            </mat-checkbox>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #Nofilteroptions>
  <div class="info-box info my-16 mr-4">
    <span> No data available</span>
  </div>
</ng-template>
