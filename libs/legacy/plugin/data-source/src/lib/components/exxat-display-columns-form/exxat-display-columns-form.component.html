<div class="drawer-p">
  <mat-card>
    <div fxLayout="column">
      <span class="font-16 mb-16"
      >Add or remove columns. To change the column order, drag and drop a
        field.
      </span>
      <div id="editColumnContainer">
        <div
          cdkDropList
          class="exxat-drag-drop-list w-100-p"
          (cdkDropListDropped)="drop($event)"
        >
          <div *ngFor="let column of displayColumns" cdkDrag>
            <div *ngIf="!column.hideEditColumn" class="exxat-drag-drop">
              <div class="icon-drag mr-8" cdkDragHandle>
                <i class="fa-light fa-grip-vertical s-20"></i>
              </div>
              <div class="content">{{ column.displayName }}</div>
              <button
                mat-icon-button
                attr.aria-label="delete {{ column.displayName }} column"
                color="warn"
                (click)="onRemoveColumn(column)"
                class="ml-8 delete-icon"
              >
                <i class="fa-light fa-trash-alt warn-fg s-18"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div
        fxLayoutAlign="center center"
        class="mb-16 mat-error"
        *ngIf="removeColumnFlag"
      >
        Atleast one column is required
      </div>
      <div
        fxLayout="row"
        fxLayoutAlign="center center"
        *ngIf="remainingDisplayColumns.length > 0"
      >
        <button
          mat-stroked-button
          color="primary"
          [matMenuTriggerFor]="columnMenu"
        >
          <i class="fa-light fa-plus s-16"></i>
          <span class="ml-4">Add a Column</span>
        </button>
        <mat-menu #columnMenu="matMenu" yPosition="below">
          <button
            mat-menu-item
            *ngFor="let column of remainingDisplayColumns"
            (click)="onAddColumn(column)"
          >
            {{ column.displayName }}
          </button>
        </mat-menu>
      </div>
    </div>
  </mat-card>
</div>
